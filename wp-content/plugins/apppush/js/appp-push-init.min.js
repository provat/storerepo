window.appp_push=(function(c,a,d){var b={};b.initialize=function(){b.bindEvents();};b.bindEvents=function(){a.addEventListener("deviceready",b.onDeviceReady,false);
};b.onDeviceReady=function(){b.receivedEvent("deviceready");};b.tokenHandler=function(e){if(!PushWoosh){b.log("No PushWoosh object present");return;}PushWoosh.appCode=apppPushVars.app_code;
PushWoosh.register(e,function(f){b.log("PushWoosh register success: "+JSON.stringify(f));},function(f){b.log("Couldn't register with PushWoosh"+f);});b.log("Token Handler "+e);
};b.errorHandler=function(e){b.log("Error Handler  "+e);};b.successHandler=function(e){b.log("Success! Result = "+e);};b.receivedEvent=function(f){var e=c.plugins.pushNotification;
e.unregister(b.successHandler,b.errorHandler);if(device.platform=="android"||device.platform=="Android"){b.log("GCM ID: "+apppPushVars.gcm_id);e.register(b.successHandler,b.errorHandler,{senderID:apppPushVars.gcm_id,ecb:"appp_push.onNotificationGCM"});
}else{e.register(b.tokenHandler,b.errorHandler,{badge:"true",sound:"true",alert:"true",ecb:"appp_push.onNotificationAPN"});}};b.onNotificationAPN=function(g){var f=c.plugins.pushNotification;
if(g.alert){navigator.notification.alert(g.alert);}if(g.badge){f.setApplicationIconBadgeNumber(b.successHandler,g.badge);}if(g.sound){var e=new Media(g.sound);
e.play();}};b.onNotificationGCM=function(f){switch(f.event){case"registered":if(f.regid.length>0){PushWoosh.appCode=apppPushVars.app_code;PushWoosh.register(f.regid,function(e){b.log("PushWoosh register success: "+JSON.stringify(e));
},function(e){b.log("Couldn't register with PushWoosh"+e);});b.log("Registration id = "+f.regid);}break;case"message":alert(f.message);b.log("msgcnt = "+f.msgcnt);
break;case"error":b.log("GCM error = "+f.msg);break;default:b.log("An unknown GCM event has occurred");break;}};b.log=function(){if(apppCore.log){apppCore.log(arguments);
}};b.initialize();return b;})(window,document);